% 矩阵规模
N = [500 1000 1500 2000 2500 3000 3500 4000 4500 5000];

% 各版本运行时间（秒）
time_p1 = [0.61, 12.45, 41.80, 98.30, 192.75, 325.80, 512.00, 783.90, 1130.20, 1540.80];
time_p2 = [0.19, 1.87, 5.55, 13.40, 23.60, 34.50, 52.10, 88.75, 125.30, 174.90];
time_p3 = [0.23, 2.15, 6.40, 15.20, 27.85, 40.10, 60.90, 98.50, 137.80, 189.50];

% 各版本加速比
speedup_p2 = [3.21, 6.66, 7.53, 7.34, 8.17, 9.44, 9.83, 8.83, 9.02, 8.81];
speedup_p3 = [2.65, 5.79, 6.53, 6.47, 6.92, 8.12, 8.40, 7.96, 8.20, 8.13];


figure;
plot(N, time_p1, '-o', 'LineWidth', 2); hold on;
plot(N, time_p2, '-s', 'LineWidth', 2);
plot(N, time_p3, '-^', 'LineWidth', 2);
xlabel('矩阵规模 N');
ylabel('运行时间（秒）');
title('不同版本运行时间对比');
legend('p1.cpp (串行)', 'p2.cpp (MPI+线程+SIMD)', 'p3.cpp (MPI非阻塞)');
grid on;
